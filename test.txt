// 参与记录
create table user_lottery_1212_join_record(
  id bigint primary key,
  userid bigint, // 用户id
  lottery_id int, // 奖励编号, -1表示未中奖
  uid varchar(30),
  p varchar(100),
  create_time datetime,
  update_time datetime,
  ext1 int,
  ext2 int,
  ext3 varchar(50),
  ext4 varchar(50),
  ext5 varchar(200),
  ext6 varchar(200)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
create index index_uljr_userid_lottery on user_lottery_1212_join_record(userid, lottery_id);

// 中奖记录
create table user_lottery_1212_record(
  userid bigint, // 用户id
  lottery_id int, // 奖励编号, -1表示未中奖
  uid varchar(30),
  p varchar(100),
  create_time datetime,
  update_time datetime,
  ext1 int,
  ext2 int,
  ext3 varchar(50),
  ext4 varchar(50),
  ext5 varchar(200),
  ext6 varchar(200),
  primary key(userid, lotter_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
create index index_ulr_ct on user_lottery_1212_record(create_time);
create index index_ulr_userid_lottery on user_lottery_1212_record(userid, lottery_id);

// 中奖记录统计
create table user_lottery_1212_record_statisc(
  s_day varchar(20), // 统计天 2016-12-12
  lottery_id int, // 奖励编号 1  2 
  send_cnt int, // 已发数量
  total_cnt int, // 总数量
  create_time datetime,
  update_time datetime,
  primary key(lottery_id, s_day)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


// 奖池
create table user_lottery_1212_pool(
  lottery_id bigint primary key,
  chance smallint, // 中奖概率 300
  chance_max smallint, // 与chance 配合计算概率 1000   300/1000
  bonus_cnt int, // 奖池大小 30
  seqid int, // 计算中奖顺序
  status tinyint // 状态，1.开启；0.暂时关闭
  
  create_time datetime,
  update_time datetime,
  
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
